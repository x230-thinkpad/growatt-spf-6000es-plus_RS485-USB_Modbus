modbus:
  - name: Growatt_spf_6000es_plus
    type: serial
    method: rtu
    port: #your growatt usb port
    baudrate: 9600
    stopbits: 1
    bytesize: 8
    parity: N
    scan_interval: 5

    binary_sensors:
      - name: Growatt Standby State
        unique_id: growatt_standby_state
        slave: 1
        address: 0
        input_type: holding

    sensors:
      # System run state
      - name: Growatt Status
        unique_id: growatt_status
        slave: 1
        address: 0
        input_type: input
        data_type: int16

      - name: Growatt AC Output Source Read
        unique_id: growatt_ac_output_source_read
        slave: 1
        address: 1
        input_type: holding
        data_type: int16

      - name: Growatt Charge Source Read
        unique_id: growatt_charge_source_read
        slave: 1
        address: 2
        input_type: holding
        data_type: int16

      - name: Growatt Battery Type Read
        unique_id: growatt_battery_type_read
        slave: 1
        address: 39
        input_type: holding
        data_type: int16

      ##################################################
      #                  PV1 / MPPT1                   #
      ##################################################

      - name: Growatt PV1 voltage
        unique_id: growatt_pv1_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 1
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt PV1 Power
        unique_id: growatt_pv1_power
        device_class: power
        unit_of_measurement: W
        slave: 1
        address: 3
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt PV1 current
        unique_id: growatt_pv1_current
        device_class: current
        unit_of_measurement: A
        slave: 1
        address: 7
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt PV1 Energy today
        unique_id: growatt_pv1_energy_today
        device_class: energy
        unit_of_measurement: kWh
        slave: 1
        address: 48
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt PV1 Energy total
        unique_id: growatt_pv1_energy_total
        device_class: energy
        unit_of_measurement: kWh
        state_class: total_increasing
        slave: 1
        address: 50
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      ##################################################
      #                  PV2 / MPPT2                   #
      ##################################################

      - name: Growatt PV2 voltage
        unique_id: growatt_pv2_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 2
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt PV2 power
        unique_id: growatt_pv2_power
        device_class: power
        unit_of_measurement: W
        slave: 1
        address: 5
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt PV2 current
        unique_id: growatt_pv2_current
        device_class: current
        unit_of_measurement: A
        slave: 1
        address: 8
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt PV2 Energy today
        unique_id: growatt_pv2_energy_today
        device_class: energy
        unit_of_measurement: kWh
        slave: 1
        address: 52
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt PV2 Energy total
        unique_id: growatt_pv2_energy_total
        device_class: energy
        unit_of_measurement: kWh
        state_class: total_increasing
        slave: 1
        address: 54
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      ##################################################
      #                AC INVERTER OUT                 #
      ##################################################

      - name: Growatt Inverter Output Power
        unique_id: growatt_Inverter_output_power
        device_class: power
        unit_of_measurement: W
        slave: 1
        address: 9
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt Inverter Output Current
        unique_id: growatt_Inverter_output_current
        device_class: current
        unit_of_measurement: A
        slave: 1
        address: 34
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt Inverter Output apparent power
        unique_id: growatt_inverter_output_apparent_power
        device_class: apparent_power
        unit_of_measurement: VA
        slave: 1
        address: 11
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt Inverter output voltage
        unique_id: growatt_inverter_output_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 22
        input_type: input
        data_type: int16
        scale: 0.1
        scan_interval: 5

      - name: Growatt Inverter output frequency
        unique_id: growatt_inverter_output_frequency
        device_class: frequency
        unit_of_measurement: Hz
        slave: 1
        address: 23
        input_type: input
        data_type: int16
        scale: 0.01
        precision: 2
        scan_interval: 5

      - name: Growatt Inverter Load Percent
        unique_id: growatt_inverter_load_percent
        unit_of_measurement: "%"
        slave: 1
        address: 27
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt Inverter Out Energy today
        unique_id: growatt_inverter_out_energy_today
        device_class: energy
        unit_of_measurement: kWh
        slave: 1
        address: 85
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt Inverter Out Energy Total
        unique_id: growatt_inverter_out_energy_total
        device_class: energy
        unit_of_measurement: kWh
        state_class: total_increasing
        slave: 1
        address: 87
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      ##################################################
      #         USED GRID FOR CHARGE BATT              #
      ##################################################

      - name: Growatt Grid Charge Power
        unique_id: growatt_grid_charge_power
        device_class: power
        unit_of_measurement: W
        slave: 1
        address: 13
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt Grid Charge Apparent Power
        unique_id: growatt_grid_charge_apparent_power
        device_class: apparent_power
        unit_of_measurement: VA
        slave: 1
        address: 15
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt Grid Charge Energy today
        unique_id: growatt_grid_charge_today
        device_class: energy
        unit_of_measurement: kWh
        slave: 1
        address: 56
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      - name: Growatt Grid Charge Energy total
        unique_id: growatt_grid_charge_total
        device_class: energy
        unit_of_measurement: kWh
        state_class: total_increasing
        slave: 1
        address: 58
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      ##################################################
      #                    BATTERY                     #
      ##################################################

      # Growatt Battery Voltage
      - name: Growatt Battery Voltage
        unique_id: growatt_battery_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 17
        input_type: input
        data_type: int16
        scale: 0.01
        precision: 2
        scan_interval: 5

      # Growatt Battery Current
      - name: Growatt Battery Current
        unique_id: growatt_battery_current
        device_class: current
        unit_of_measurement: A
        slave: 1
        address: 35
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 2
        scan_interval: 5

      # Growatt Battery power
      - name: Growatt Battery power
        unique_id: growatt_bat_power
        device_class: power
        unit_of_measurement: W
        slave: 1
        address: 77
        input_type: input
        data_type: int32
        scale: 0.1
        precision: 1
        scan_interval: 5

      # Growatt Battery SOC
      - name: Growatt Battery SOC
        unique_id: growatt_battery_soc
        device_class: battery
        unit_of_measurement: "%"
        slave: 1
        address: 18
        input_type: input
        data_type: int16
        precision: 2
        scan_interval: 5

      # Growatt DC Bus Voltage
      - name: Growatt DC Bus Voltage
        unique_id: growatt_dc_bus_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 19
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      # Growatt DC Charge Voltage
      - name: Growatt DC Charge Voltage
        unique_id: growatt_dc_charge_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 24
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 2
        scan_interval: 5

      # Growatt Battery Port volt
      - name: Growatt Battery Port voltage
        unique_id: growatt_battery_port_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 28
        input_type: input
        data_type: int16
        scale: 0.01
        precision: 2
        scan_interval: 5

      # Growatt Battery Bus Voltage
      - name: Growatt Battery Bus Voltage
        unique_id: growatt_battery_bus_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 29
        input_type: input
        data_type: int16
        scale: 0.01
        precision: 2
        scan_interval: 5

      # Growatt Battery Charge current
      - name: Growatt Battery Charge current
        unique_id: growatt_battery_charge_current
        device_class: current
        unit_of_measurement: A
        slave: 1
        address: 83
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 2
        scan_interval: 5

      # Growatt Battery DisCharge current
      - name: Growatt Battery DisCharge current
        unique_id: growatt_battery_discharge_current
        device_class: current
        unit_of_measurement: A
        slave: 1
        address: 84
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      # Growatt Battery Charge Energy Today
      - name: Growatt Battery Charge Energy Today
        unique_id: growatt_battery_charge_energy_today
        device_class: energy
        unit_of_measurement: kWh
        slave: 1
        address: 99
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      # Growatt Battery Charge Energy Total
      - name: Growatt Battery Charge Energy Total
        unique_id: growatt_battery_charge_energy_total
        device_class: energy
        unit_of_measurement: kWh
        state_class: total_increasing
        slave: 1
        address: 100
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      # Growatt Battery Discharge Energy Today
      - name: Growatt Battery Discharge Energy Today
        unique_id: growatt_battery_discharge_energy_today
        device_class: energy
        unit_of_measurement: kWh
        slave: 1
        address: 60
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 1
        scan_interval: 5

      # Growatt Battery Discharge Energy total
      - name: Growatt Battery Discharge Energy total
        unique_id: growatt_battery_discharge_energy_total
        device_class: energy
        unit_of_measurement: kWh
        state_class: total_increasing
        slave: 1
        address: 62
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 2
        scan_interval: 5

      ##################################################
      #             GRID INPUT TO INVERTER             #
      ##################################################

      # Growatt Grid input Voltage
      - name: Growatt Grid input Voltage
        unique_id: growatt_grid_input_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 20
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 2
        scan_interval: 5

      # Growatt Grid input frequency
      - name: Growatt Grid input frequency
        unique_id: growatt_grid_input_frequency
        device_class: frequency
        unit_of_measurement: Hz
        slave: 1
        address: 21
        input_type: input
        data_type: int16
        scale: 0.01
        precision: 2
        scan_interval: 5

      # Growatt Grid Input Power
      - name: Growatt Grid Input Power
        unique_id: growatt_grid_input_power
        device_class: power
        unit_of_measurement: W
        slave: 1
        address: 36
        input_type: input
        data_type: int32
        scale: 0.1
        precision: 2
        scan_interval: 5

      # Growatt Grid Input Apparent Power
      - name: Growatt Grid Input Apparent Power
        unique_id: growatt_grid_input_apparent_power
        device_class: apparent_power
        unit_of_measurement: VA
        slave: 1
        address: 38
        input_type: input
        data_type: uint32
        scale: 0.1
        precision: 2
        scan_interval: 5

      ##################################################
      #            TEMPERATURE INFORMATION             #
      ##################################################

      # Growatt Inverter Temperature 1
      - name: Growatt Inverter Temperature 1
        unique_id: growatt_inverter_temperature_1
        device_class: temperature
        unit_of_measurement: °C
        slave: 1
        address: 25
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 2
        scan_interval: 5

      # Growatt DC Bus Temperature
      - name: Growatt DC Bus Temperature
        unique_id: growatt_dc_bus_temperature
        device_class: temperature
        unit_of_measurement: °C
        slave: 1
        address: 26
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 2
        scan_interval: 5

      # Growatt Inverter Temperature 2
      - name: Growatt Inverter Temperature 2
        unique_id: growatt_inverter_temp_2
        device_class: temperature
        unit_of_measurement: °C
        slave: 1
        address: 32
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 2
        scan_interval: 5

      # Growatt Inverter Temperature 3
      - name: Growatt Inverter Temperature 3
        unique_id: growatt_inverter_temp_3
        device_class: temperature
        unit_of_measurement: °C
        slave: 1
        address: 33
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 2
        scan_interval: 5

      ##################################################
      #              	 BMS INFORMATION    	       #
      ##################################################

      # Growatt BMS SOC
      - name: Growatt BMS SOC
        unique_id: growatt_bms_soc
        device_class: battery
        unit_of_measurement: "%"
        slave: 1
        address: 203
        input_type: input
        data_type: int16
        precision: 2
        scan_interval: 5

      # Growatt BMS Voltage
      - name: Growatt BMS Voltage
        unique_id: growatt_bms_voltage
        device_class: voltage
        unit_of_measurement: V
        slave: 1
        address: 204
        input_type: input
        data_type: int16
        scale: 0.01
        precision: 2
        scan_interval: 5

      # Growatt BMS Current
      - name: Growatt BMS Current
        unique_id: growatt_bms_current
        device_class: current
        unit_of_measurement: A
        slave: 1
        address: 205
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      # Growatt BMS Temperature
      - name: Growatt BMS Temperature
        unique_id: growatt_bms_temp
        device_class: temperature
        unit_of_measurement: °C
        slave: 1
        address: 206
        input_type: input
        data_type: int16
        scale: 0.1
        precision: 1
        scan_interval: 5

      ##################################################
      #              	 FAN INFORMATION    	       #
      ##################################################

      # MPPT Charger Fan Speed (%)
      - name: Growatt MPPT Fan Speed
        unique_id: growatt_mppt_fan_speed
        slave: 1
        address: 81
        input_type: input
        data_type: uint16
        unit_of_measurement: "%"
        device_class: power_factor
        precision: 0
        scan_interval: 5

        # Inverter Fan Speed (%)
      - name: Growatt Inverter Fan Speed
        unique_id: growatt_inverter_fan_speed
        slave: 1
        address: 82
        input_type: input
        data_type: uint16
        unit_of_measurement: "%"
        device_class: power_factor
        precision: 0
        scan_interval: 5

      ##################################################
      #             	 ALARM INFORMATION    	       #
      ##################################################

        # FAULT bit register
      - name: Growatt Fault Code
        unique_id: growatt_fault_code
        slave: 1
        address: 30
        input_type: input
        data_type: uint16
        scan_interval: 5

        # WARNING low 0x0001 - 0x8000
      - name: Growatt Warning Code L
        unique_id: growatt_warning_code_l
        slave: 1
        address: 41
        input_type: input
        data_type: uint16
        scan_interval: 5

        # WARNING high extended
      - name: Growatt Warning Code H
        unique_id: growatt_warning_code_h
        slave: 1
        address: 42
        input_type: input
        data_type: uint16
        scan_interval: 5
